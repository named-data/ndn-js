<?xml version = "1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"DTD/xhtml1-strict.dtd">

<!-- 
 * Copyright (C) 2014 Regents of the University of California.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * A copy of the GNU General Public License is in the file COPYING.
-->

<html xmlns = "http://www.w3.org/1999/xhtml">

<head>
	<title>NDN Decode Face Instance</title>
	
	<script type="text/javascript" src="../../build/ndn.js"></script>

	<script type="text/javascript">

		function decode(){

			var input = document.getElementById('result').innerHTML;

			
			var faceInstance = EncodingUtils.decodeHexFaceInstance(input);
			
			if(LOG>3)console.log('FACE INSTANCE DECODED');
			if(LOG>3)console.log(faceInstance);

			///////////////////////////////////////
			
			var output ="";
			
			if(faceInstance.publisherPublicKeyDigest!=null ){
				output+= "PublisherPublicKeyDigest: ";
				
					output+=  DataUtils.toHex(faceInstance.publisherPublicKeyDigest.publisherPublicKeyDigest);
					
					//output+= "PUBLISHER ID TYPE: ";
					//output+=  faceInstance.publisherPublicKeyDigest.PublisherPublicKeyDigest;
					
				output+= "<br />";
				output+= "<br />";

			}
			
			if(faceInstance.faceID!=null){
				output+= "FaceID: ";
				
				output+= faceInstance.faceID;
				output+= "<br />";
			}
			
			if(faceInstance.ipProto!=null){
				output+= "IPProto: ";
				
				output+= faceInstance.ipProto;
				output+= "<br />";
			}
			
			if(faceInstance.host!=null){
				output+= "Host: ";
				
				output+= faceInstance.host;
				output+= "<br />";
			}
			
			if(faceInstance.Port!=null){
				output+= "Port: ";
				
				output+= faceInstance.Port;
				output+= "<br />";
			}
			if(faceInstance.freshnessSeconds!=null){
				output+= "FreshnessSeconds: ";
				
				output+= faceInstance.freshnessSeconds;
				output+= "<br />";
			}
	
			document.getElementById('result').innerHTML = output;
			
		}

	</script>

</head>
<body >
	<form>
		
		Please Press Decode:<br />
		
		<!--  input id="faceInstance" type="text" name="FACEINSTANCE" value="/PARC/abc" /--> 
		
	</form>
	<button onclick="decode()">Decode</button>
	
	

		<p id="result">058203e20285e0a01e093968f9740ce7f4361babf5bb05a4e55aaca5e58f73eddeb8e013aa8f0004d29632310004da9631370004e2c631302e312e312e310004eaa6393639350003d2d6323134373438333634370000</p>

</body>
</html>
